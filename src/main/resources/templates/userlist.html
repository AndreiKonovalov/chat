<html xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layout}"
      lang="ru">
<th:block layout:fragment="content">
    Список пользователей
    <table>
        <thead>
        <tr>
            <th>Name</th>
            <th>Role</th>
            <th></th>
        </tr>
        </thead>
        <tbody>
        <tr th:each="user : ${users}">
            <td th:text="${user.getUsername()}"></td>
            <td th:text="${#strings.setJoin(user.getRoles(), ', ')}"></td>
            <td><a th:href="@{/user/{id}(id=${user.getId()})}">edit</a> </td>
            <!--        <td th:each="role : ${user.getRoles()}" th:text="${role}"></td>-->
        </tr>
        </tbody>
    </table>
</th:block>
</html>